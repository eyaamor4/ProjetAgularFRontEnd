
<button class="btn-create" routerLink="/admin/members/create">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
    <line x1="12" y1="5" x2="12" y2="19"></line>
    <line x1="5" y1="12" x2="19" y2="12"></line>
  </svg>
  Create New
</button>
<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

  <!-- Photo -->
  <ng-container matColumnDef="photo">
    <th mat-header-cell *matHeaderCellDef> Photo </th>
    <td mat-cell *matCellDef="let element">
      <img *ngIf="element.photo" [src]="element.photo" width="50" height="50" style="border-radius: 50%;">
      <span *ngIf="!element.photo">—</span>
    </td>
  </ng-container>

  <!-- ID -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> ID </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <!-- CIN -->
  <ng-container matColumnDef="cin">
    <th mat-header-cell *matHeaderCellDef> CIN </th>
    <td mat-cell *matCellDef="let element"> {{element.cin}} </td>
  </ng-container>

  <!-- Nom -->
  <ng-container matColumnDef="nom">
  <th mat-header-cell *matHeaderCellDef> Nom </th>
  <td mat-cell *matCellDef="let element"> {{ element.nom }} </td>
</ng-container>


  <!-- Prénom -->
  <ng-container matColumnDef="prenom">
    <th mat-header-cell *matHeaderCellDef> Prénom </th>
    <td mat-cell *matCellDef="let element"> {{element.prenom}} </td>
  </ng-container>

 <!-- Email -->
<ng-container matColumnDef="email">
  <th mat-header-cell *matHeaderCellDef> Email </th>
  <td mat-cell *matCellDef="let element"> {{ element.email }} </td>
</ng-container>
  <!-- Type -->
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef> Type </th>
    <td mat-cell *matCellDef="let element"> {{element.type}} </td>
  </ng-container>
<ng-container matColumnDef="grade">
  <th mat-header-cell *matHeaderCellDef> Grade </th>
  <td mat-cell *matCellDef="let element">
    <span *ngIf="element.type === 'ens'">
      {{ element.grade }}
    </span>
    <span *ngIf="element.type !== 'ens'">—</span>
  </td>
</ng-container>

<ng-container matColumnDef="etablissement">
  <th mat-header-cell *matHeaderCellDef> Établissement </th>
  <td mat-cell *matCellDef="let element">
    <span *ngIf="element.type === 'ens'">
      {{ element.etablissement }}
    </span>
    <span *ngIf="element.type !== 'ens'">—</span>
  </td>
</ng-container>


  <!-- Encadreur -->
<ng-container matColumnDef="encadreur">
  <th mat-header-cell *matHeaderCellDef> Encadrant </th>
  <td mat-cell *matCellDef="let element">
    <span *ngIf="element.type === 'etd' && element.encadrant">
      {{ element.encadrant.nom }} {{ element.encadrant.prenom }}
    </span>
    <span *ngIf="element.type !== 'etd'">—</span>
  </td>
</ng-container>


  <!-- Date création -->
<ng-container matColumnDef="dateInscription">
  <th mat-header-cell *matHeaderCellDef> Inscrit le </th>
  <td mat-cell *matCellDef="let element">
    <span *ngIf="element.type === 'etd'">
      {{ element.dateInscription | date:'dd/MM/yyyy' }}
    </span>
    <span *ngIf="element.type !== 'etd'">—</span>
  </td>
</ng-container>
 <ng-container matColumnDef="diplome">
  <th mat-header-cell *matHeaderCellDef> Diplôme </th>
  <td mat-cell *matCellDef="let element">
    <span *ngIf="element.type === 'etd'">
      {{ element.diplome || '—' }}
    </span>
    <span *ngIf="element.type !== 'etd'">—</span>
  </td>
</ng-container>
  <!-- CV -->
   <ng-container matColumnDef="cv">
  <th mat-header-cell *matHeaderCellDef> CV </th>
  <td mat-cell *matCellDef="let element">
    <a *ngIf="element.cv" [href]="element.cv" target="_blank">Voir</a>
    <span *ngIf="!element.cv">—</span>
  </td>
</ng-container>


  <!-- Actions -->
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef> ACTION </th>
    <td mat-cell *matCellDef="let element">
      <button [routerLink]="['/admin/members', element.id, 'edit']">
  <mat-icon>edit</mat-icon>
</button>

      <button (click)="delete(element.id)"><mat-icon>delete</mat-icon></button>
    </td>
  </ng-container>
 


  <!-- Header + Rows -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>
